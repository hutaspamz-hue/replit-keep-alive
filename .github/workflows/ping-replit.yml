name: üîÑ Keep Replit Alive 24/7
on:
  schedule:
    # Run every 2 minutes (maximum for free tier)
    - cron: '*/2 * * * *'
  push:
    branches: [ main ]
  workflow_dispatch:  # Allows manual run

jobs:
  keep-awake:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Replit Multiple Times
        run: |
          echo "‚è∞ Starting at $(date)"
          
          # Your ACTUAL Replit URL
          REPLIT_URL="https://profuse-heartfelt-rotation--motivationalqot.replit.app"
          
          # Make 5 requests with delays (mimics real user)
          for i in {1..5}; do
            echo "Request $i to $REPLIT_URL"
            
            # Try different endpoints
            curl -s -o /dev/null -w "Status: %{http_code}\n" \
              "$REPLIT_URL/" \
              --max-time 10 \
              --retry 2 \
              --retry-delay 1
            
            curl -s -o /dev/null -w "Ping: %{http_code}\n" \
              "$REPLIT_URL/ping" \
              --max-time 10
            
            curl -s -o /dev/null -w "Health: %{http_code}\n" \
              "$REPLIT_URL/health" \
              --max-time 10
            
            # Wait between requests
            if [ $i -lt 5 ]; then
              sleep 15
            fi
          done
          
          echo "‚úÖ Completed at $(date)"
